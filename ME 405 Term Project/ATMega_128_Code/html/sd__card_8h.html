<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Polar Plotter Project: sd_card.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Polar Plotter Project
   &#160;<span id="projectnumber">5.0</span>
   </div>
   <div id="projectbrief">A 2D Polar Plotter for Drawing Straight Lines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sd__card_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">sd_card.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="base__text__serial_8h_source.html">base_text_serial.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="global__debug_8h_source.html">global_debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="queue_8h_source.html">queue.h</a>&quot;</code><br/>
<code>#include &quot;ff.h&quot;</code><br/>
<code>#include &quot;diskio.h&quot;</code><br/>
</div>
<p><a href="sd__card_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionsd__word.html">sd_word</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionsd__u32.html">sd_u32</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsd__card.html">sd_card</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a451aeffb68f3ecfb82eae03c88e9e48c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#a451aeffb68f3ecfb82eae03c88e9e48c">SD_BLOCK_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr class="memdesc:a451aeffb68f3ecfb82eae03c88e9e48c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This define prevents this .h file from being included more than once in a .cc file.  <a href="#a451aeffb68f3ecfb82eae03c88e9e48c">More...</a><br/></td></tr>
<tr class="separator:a451aeffb68f3ecfb82eae03c88e9e48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd92a542394e4077621133ba8a8254d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#a6fd92a542394e4077621133ba8a8254d">SD_LINE_BUF_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a6fd92a542394e4077621133ba8a8254d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25b1f28e3aef588379729587d2155c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#aa25b1f28e3aef588379729587d2155c2">SD_L_BUF_IDX_T</a>&#160;&#160;&#160;uint8_t</td></tr>
<tr class="separator:aa25b1f28e3aef588379729587d2155c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f934a7642239adfef3e9607d3ad16bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#a5f934a7642239adfef3e9607d3ad16bc">SD_CS_PORT</a>&#160;&#160;&#160;PORTB</td></tr>
<tr class="separator:a5f934a7642239adfef3e9607d3ad16bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf5506a98a25bf1bbccc67c08aa72a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#a8bf5506a98a25bf1bbccc67c08aa72a4">SD_CS_DDR</a>&#160;&#160;&#160;DDRB</td></tr>
<tr class="separator:a8bf5506a98a25bf1bbccc67c08aa72a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b196d625ae221c1a83217c98b6fe25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sd__card_8h.html#a62b196d625ae221c1a83217c98b6fe25">SD_CS_MASK</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:a62b196d625ae221c1a83217c98b6fe25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains a class which allows SD cards to be read and written. The intent is that SD cards can be convenient mechanisms for the storage of lots and lots of data. In fact, the <a class="el" href="classbase__text__serial.html">base_text_serial</a> class is used as an ancestor, so the SD card can be used to write data as text using "&lt;&lt;" operators.</p>
<p>This version of the <a class="el" href="classsd__card.html">sd_card</a> driver is based on ELM-FAT-FS, a package of DOS file system drivers found at <a href="http://elm-chan.org/fsw/ff/00index_e.html">http://elm-chan.org/fsw/ff/00index_e.html</a>. It was chosen because it is open source and is currently being maintained, while some other packages are in a more static state, their authors having presumably moved on.</p>
<p>Revisions: </p>
<ul>
<li>06-09-2008 JRR Class created, based on C program example found at <a href="http://www.captain.at/electronic-atmega-mmc.php">http://www.captain.at/electronic-atmega-mmc.php</a> </li>
<li>08-17-2008 JRR Actually found the time to get it working </li>
<li>12-09-2008 JRR Added FAT16 filesystem support using DOSFS package from <a href="http://www.larwe.com/zws/products/dosfs/index.html">http://www.larwe.com/zws/products/dosfs/index.html</a> </li>
<li>02-26-2009 JRR Found time to fix lots of bugs in DOSFS version </li>
<li>11-21-2009 JRR The DOSFS code is still buggy; trying ELM-FAT-FS version from <a href="http://elm-chan.org/fsw/ff/00index_e.html">http://elm-chan.org/fsw/ff/00index_e.html</a> </li>
<li>12-16-2009 JRR The ELM-FAT-FS version seems reasonably debugged and usable</li>
</ul>
<p>License: This file is free software released under the Lesser GNU Public License, version</p>
<ol type="1">
<li>This program is intended for educational use only, but it is not limited thereto. It is provided without any guarantee whatsoever. Because the author has no control over how this software may be used, the author cannot be responsible for any consequences of the use of this software. The ELM-FAT-FS package on which this program relies is subject to its own free software license, and any user of this software must agree to the terms of that license as well as the LGPL. See the ELM-FAT-FS link above for details about the license governing DOSFS use. </li>
</ol>

<p>Definition in file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a451aeffb68f3ecfb82eae03c88e9e48c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_BLOCK_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This define prevents this .h file from being included more than once in a .cc file. </p>
<p>This is the size of blocks (like sectors) in bytes on the SD card. All writes are done with blocks of data of this size, and the <a class="el" href="classsd__card.html">sd_card</a> object must have a buffer which holds this many bytes. SD cards have a block size of 512 bytes. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00057">57</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8bf5506a98a25bf1bbccc67c08aa72a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_CS_DDR&#160;&#160;&#160;DDRB</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro chooses the data direction register for the port to which the SD card's card select bit is attached. It must match the port in SD_CS_PORT. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00089">89</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

<p>Referenced by <a class="el" href="sd__card_8cpp_source.html#l00689">sd_card::sd_card()</a>.</p>

</div>
</div>
<a class="anchor" id="a62b196d625ae221c1a83217c98b6fe25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_CS_MASK&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro sets a bitmask for the bit which is used as the SD card's card select bit. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00096">96</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

<p>Referenced by <a class="el" href="sd__card_8cpp_source.html#l00689">sd_card::sd_card()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f934a7642239adfef3e9607d3ad16bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_CS_PORT&#160;&#160;&#160;PORTB</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro chooses the port to which the SD card's card select bit is attached. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00082">82</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

<p>Referenced by <a class="el" href="sd__card_8cpp_source.html#l00689">sd_card::sd_card()</a>.</p>

</div>
</div>
<a class="anchor" id="aa25b1f28e3aef588379729587d2155c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_L_BUF_IDX_T&#160;&#160;&#160;uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro sets the type of the line buffer index, which needs to be 8 bits if the line buffer is less than 256 elements in size or 16 bits if it's larger. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00073">73</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6fd92a542394e4077621133ba8a8254d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SD_LINE_BUF_SIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the size of a buffer which holds the characters in one line to be written to the SD card. Characters are written into the line buffer until an end of line character is received (or some other character set with SD_SEND_NOW_CHAR) or someone calls transmit_now(); then the data in the buffer is written to the card. </p>

<p>Definition at line <a class="el" href="sd__card_8h_source.html#l00065">65</a> of file <a class="el" href="sd__card_8h_source.html">sd_card.h</a>.</p>

<p>Referenced by <a class="el" href="sd__card_8cpp_source.html#l00741">sd_card::putchar()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="sd__card_8h.html">sd_card.h</a></li>
    <li class="footer">Generated on Fri Sep 20 2013 14:27:59 for Polar Plotter Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
