<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Polar Plotter Project: base_text_serial.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Polar Plotter Project
   &#160;<span id="projectnumber">5.0</span>
   </div>
   <div id="projectbrief">A 2D Polar Plotter for Drawing Straight Lines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('base__text__serial_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">base_text_serial.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;avr/pgmspace.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
</div>
<p><a href="base__text__serial_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbase__text__serial.html">base_text_serial</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a05ff31f02c334a6729e6d768de721eb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="base__text__serial_8h.html#a05ff31f02c334a6729e6d768de721eb0">ENDL_STYLE</a>&#160;&#160;&#160;&quot;\r\n&quot;</td></tr>
<tr class="memdesc:a05ff31f02c334a6729e6d768de721eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This define prevents this .h file from being included more than once in a .cc file.  <a href="#a05ff31f02c334a6729e6d768de721eb0">More...</a><br/></td></tr>
<tr class="separator:a05ff31f02c334a6729e6d768de721eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb19a39c5f07b2af76670f678f70661"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addb19a39c5f07b2af76670f678f70661"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="base__text__serial_8h.html#addb19a39c5f07b2af76670f678f70661">CLRSCR_STYLE</a>&#160;&#160;&#160;((unsigned char)12)</td></tr>
<tr class="memdesc:addb19a39c5f07b2af76670f678f70661"><td class="mdescLeft">&#160;</td><td class="mdescRight">This define selects the character which asks a terminal to clear its screen. This is usually a control-L, which is ASCII character number 12. <br/></td></tr>
<tr class="separator:addb19a39c5f07b2af76670f678f70661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076d1892c2e1133e4cc5469015af6423"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="base__text__serial_8h.html#a076d1892c2e1133e4cc5469015af6423">PMS</a>(s)</td></tr>
<tr class="separator:a076d1892c2e1133e4cc5469015af6423"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5582483c459c0f48e51d96478d5b3407"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a> { <br/>
&#160;&#160;<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407ad843ac028b91abce26e3d42b2e27eae0">bin</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a8f2c05194d91776b033f24e214c6e9df">oct</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a82022a5c9021c54619b7b00d1fede0ad">dec</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a6000f7a8e67e4e0beb7b8ebe93452243">hex</a>, 
<br/>
&#160;&#160;<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a1fc467976b8e2979150a99beb709443e">ascii</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a1b5484703e716389553255e6f11f12ec">numeric</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a5cbad4ad24fd9b8c066cdad096cd2f18">endl</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407ab6ca2a7533366acce99cc85a1da20008">clrscr</a>, 
<br/>
&#160;&#160;<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a90718791e807ebb8af4ebc39df0b98f7">send_now</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a2b6bb413c07a0678c5603fde1bb7226f">manip_set_precision</a>, 
<a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a71e5ad580f4e82a56ae0fbef231f678b">_p_str</a>
<br/>
 }</td></tr>
<tr class="separator:a5582483c459c0f48e51d96478d5b3407"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af2f403eed86ac0c7b71247685f62736e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="base__text__serial_8h.html#af2f403eed86ac0c7b71247685f62736e">setprecision</a> (unsigned char)</td></tr>
<tr class="separator:af2f403eed86ac0c7b71247685f62736e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains a base class for devices which send information in text form over serial devices in an AVR microcontroller. Example devices are serial ports (both traditional RS-232 ports and USB-serial adapters) and wireless modems.</p>
<p>Revised: </p>
<ul>
<li>04-03-2006 JRR For updated version of compiler </li>
<li>06-10-2006 JRR Ported from C++ to C for use with some C-only projects </li>
<li>08-11-2006 JRR Some bug fixes </li>
<li>03-02-2007 JRR Ported back to C++. I've had it with the limitations of C. </li>
<li>04-16-2007 JO Added write (unsigned long) </li>
<li>07-19-2007 JRR Changed some character return values to bool, added m324p </li>
<li>01-12-2008 JRR Added code for the ATmega128 using USART number 1 only </li>
<li>02-13-2008 JRR Split into base class and device specific classes; changed from write() to overloaded &lt;&lt; operator in the "cout" style </li>
<li>05-12-2008 ALS Fixed bug in which signed numbers came out unsigned </li>
<li>07-05-2008 JRR Added configuration macro by which to change what "endl" is </li>
<li>07-05-2008 JRR Added 'ascii' and 'numeric' format codes </li>
<li>11-24-2009 JRR Changed operation of 'clrscr' to a function to work with LCD </li>
<li>11-26-2009 JRR Integrated floating point support into this file </li>
<li>12-16-2009 JRR Improved support for constant strings in program memory</li>
</ul>
<p>Licenses: This file released under the Lesser GNU Public License, version 2. This program is intended for educational use only, but it is not limited thereto. This code incorporates elements from Xmelkov's ftoa_engine.h, part of the avr-libc source, and users must accept and comply with the license of ftoa_engine.h as well. </p>

<p>Definition in file <a class="el" href="base__text__serial_8h_source.html">base_text_serial.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a05ff31f02c334a6729e6d768de721eb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENDL_STYLE&#160;&#160;&#160;&quot;\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This define prevents this .h file from being included more than once in a .cc file. </p>
<p>This define selects what will be sent when a program sends out "endl". Different recieving programs want different end-of-line markers. Traditionally, UNIX uses "\r" while PC's use "\r\n" and Macs use "\n" (I think). </p>

<p>Definition at line <a class="el" href="base__text__serial_8h_source.html#l00091">91</a> of file <a class="el" href="base__text__serial_8h_source.html">base_text_serial.h</a>.</p>

<p>Referenced by <a class="el" href="base__text__serial_8cpp_source.html#l00479">base_text_serial::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a class="anchor" id="a076d1892c2e1133e4cc5469015af6423"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a71e5ad580f4e82a56ae0fbef231f678b">_p_str</a> &lt;&lt; \</div>
<div class="line">    __extension__({<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> __c[] PROGMEM = s; &amp;__c[0]; })</div>
<div class="ttc" id="base__text__serial_8h_html_a5582483c459c0f48e51d96478d5b3407a71e5ad580f4e82a56ae0fbef231f678b"><div class="ttname"><a href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407a71e5ad580f4e82a56ae0fbef231f678b">_p_str</a></div><div class="ttdoc">The following string is in program (flash) memory. </div><div class="ttdef"><b>Definition:</b> <a href="base__text__serial_8h_source.html#l00135">base_text_serial.h:135</a></div></div>
</div><!-- fragment --><p>This define allows strings to be created in program memory and tells the puts() method to find them in program memory. This saves memory compared to copying all the strings to SRAM, which is the rather wasteful default treatment. See link(s), noting that you'll have to paste some multi-part links together because we run out of space in the comment box in the source code... </p>
<ul>
<li><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=viewtopic&t=57011">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=57011</a> &amp;start=all&amp;postdays=0&amp;postorder=asc </li>
</ul>

<p>Definition at line <a class="el" href="base__text__serial_8h_source.html#l00108">108</a> of file <a class="el" href="base__text__serial_8h_source.html">base_text_serial.h</a>.</p>

<p>Referenced by <a class="el" href="sd__card_8cpp_source.html#l00945">sd_card::close_file()</a>, <a class="el" href="stl__task_8cpp_source.html#l00258">stl_task::error_stop()</a>, <a class="el" href="sd__card_8cpp_source.html#l00912">sd_card::open_file_append()</a>, <a class="el" href="sd__card_8cpp_source.html#l00878">sd_card::open_file_overwrite()</a>, <a class="el" href="sd__card_8cpp_source.html#l00846">sd_card::open_file_readonly()</a>, <a class="el" href="sd__card_8cpp_source.html#l00979">sd_card::open_new_data_file()</a>, <a class="el" href="stl__task_8cpp_source.html#l00382">operator&lt;&lt;()</a>, <a class="el" href="stl__task_8cpp_source.html#l00203">stl_task::run()</a>, and <a class="el" href="stl__task_8cpp_source.html#l00054">stl_task::stl_task()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a5582483c459c0f48e51d96478d5b3407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enumeration is used to change the display base for the output stream from the default of 10 (decimal) to and from 2 (binary), 8 (octal), or 16 (hexadecimal). Also defined are endl for end-of-line and send_now to tell packet based devices to transmit a packet as soon as possible. The base is changed for the next printing of one number only, then the base reverts to the default value of base 10. Codes are also provided to allow printing of 8-bit numbers as ASCII characters and to tell some devices to send packets of data immediately. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407ad843ac028b91abce26e3d42b2e27eae0"></a>bin</em>&nbsp;</td><td class="fielddoc">
<p>Print following numbers in base 2 (binary) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a8f2c05194d91776b033f24e214c6e9df"></a>oct</em>&nbsp;</td><td class="fielddoc">
<p>Print following numbers in base 8 (octal) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a82022a5c9021c54619b7b00d1fede0ad"></a>dec</em>&nbsp;</td><td class="fielddoc">
<p>Print following numbers in base 10 (decimal) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a6000f7a8e67e4e0beb7b8ebe93452243"></a>hex</em>&nbsp;</td><td class="fielddoc">
<p>Print following numbers in base 16 (hexadecimal) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a1fc467976b8e2979150a99beb709443e"></a>ascii</em>&nbsp;</td><td class="fielddoc">
<p>Print an ASCII character rather than an 8-bit number. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a1b5484703e716389553255e6f11f12ec"></a>numeric</em>&nbsp;</td><td class="fielddoc">
<p>Print 8-bit numbers as numeric values, not ASCII. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a5cbad4ad24fd9b8c066cdad096cd2f18"></a>endl</em>&nbsp;</td><td class="fielddoc">
<p>Print a carriage return and linefeed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407ab6ca2a7533366acce99cc85a1da20008"></a>clrscr</em>&nbsp;</td><td class="fielddoc">
<p>Send a control-L which clears some terminal screens. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a90718791e807ebb8af4ebc39df0b98f7"></a>send_now</em>&nbsp;</td><td class="fielddoc">
<p>Tell some devices to send or save data immediately. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a2b6bb413c07a0678c5603fde1bb7226f"></a>manip_set_precision</em>&nbsp;</td><td class="fielddoc">
<p>Set the precision for printing floating point numbers. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a5582483c459c0f48e51d96478d5b3407a71e5ad580f4e82a56ae0fbef231f678b"></a>_p_str</em>&nbsp;</td><td class="fielddoc">
<p>The following string is in program (flash) memory. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="base__text__serial_8h_source.html#l00124">124</a> of file <a class="el" href="base__text__serial_8h_source.html">base_text_serial.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af2f403eed86ac0c7b71247685f62736e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base__text__serial_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a> setprecision </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>digits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets the global precision value, then returns a manipulator which causes a serial object to change its floating point precision (the number of digits after the decimal point which will be printed). The new precision is "sticky" in that its value persists until this function is called again to change it again. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">digits</td><td>A new value for the number of digits after the decimal point; a maximum of 7 digits are allowed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The serial manipulator called "manip_set_precision" </dd></dl>

<p>Definition at line <a class="el" href="base__text__serial_8cpp_source.html#l00462">462</a> of file <a class="el" href="base__text__serial_8cpp_source.html">base_text_serial.cpp</a>.</p>

<p>References <a class="el" href="base__text__serial_8cpp_source.html#l00047">bts_glob_prec</a>, and <a class="el" href="base__text__serial_8h_source.html#l00134">manip_set_precision</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="base__text__serial_8h.html">base_text_serial.h</a></li>
    <li class="footer">Generated on Fri Sep 20 2013 14:27:59 for Polar Plotter Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
