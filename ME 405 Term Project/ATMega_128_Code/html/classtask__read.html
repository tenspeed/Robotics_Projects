<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Polar Plotter Project: task_read Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Polar Plotter Project
   &#160;<span id="projectnumber">5.0</span>
   </div>
   <div id="projectbrief">A 2D Polar Plotter for Drawing Straight Lines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtask__read.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classtask__read-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">task_read Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="task__read_8h_source.html">task_read.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6e7da4895a28c1cbb2572364a15fdaff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a6e7da4895a28c1cbb2572364a15fdaff">task_read</a> (base_text_serial *p_serial_port, <a class="el" href="classtask__PID.html">task_PID</a> *motor_1, <a class="el" href="classtask__PID.html">task_PID</a> *motor_2, uint8_t *p_print_mode, <a class="el" href="classMaster.html">Master</a> *SPI, <a class="el" href="classtask__lines.html">task_lines</a> *LINES, <a class="el" href="classservo.html">servo</a> *Tom_Servo, <a class="el" href="classGo__Home.html">Go_Home</a> *Home_Slice, <a class="el" href="classpoint.html">point</a> *POINTY)</td></tr>
<tr class="separator:a6e7da4895a28c1cbb2572364a15fdaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2face98d4feb25a296ab079706d41fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#af2face98d4feb25a296ab079706d41fd">run</a> (void)</td></tr>
<tr class="separator:af2face98d4feb25a296ab079706d41fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2c44e2c5f153938a1db87c277ae6476c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c44e2c5f153938a1db87c277ae6476c"></a>
base_text_serial *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a2c44e2c5f153938a1db87c277ae6476c">ptr_2_serial</a></td></tr>
<tr class="memdesc:a2c44e2c5f153938a1db87c277ae6476c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This input driver class needs a pointer to the serial port used to echo inputs to the terminal. <br/></td></tr>
<tr class="separator:a2c44e2c5f153938a1db87c277ae6476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca1336ab22aaffc1a5d2c8d7d426d25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ca1336ab22aaffc1a5d2c8d7d426d25"></a>
<a class="el" href="classtask__PID.html">task_PID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a7ca1336ab22aaffc1a5d2c8d7d426d25">PID_1</a></td></tr>
<tr class="memdesc:a7ca1336ab22aaffc1a5d2c8d7d426d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">this input driver class needs pointers to each PID object it is expected to interface with <br/></td></tr>
<tr class="separator:a7ca1336ab22aaffc1a5d2c8d7d426d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9f8ebc163883379819589d378f3ad6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b9f8ebc163883379819589d378f3ad6"></a>
<a class="el" href="classtask__PID.html">task_PID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a5b9f8ebc163883379819589d378f3ad6">PID_2</a></td></tr>
<tr class="memdesc:a5b9f8ebc163883379819589d378f3ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">this input driver class needs pointers to each PID object it is expected to interface with <br/></td></tr>
<tr class="separator:a5b9f8ebc163883379819589d378f3ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8403f54a536520302a191b105c1aa3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb8403f54a536520302a191b105c1aa3"></a>
<a class="el" href="classMaster.html">Master</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#abb8403f54a536520302a191b105c1aa3">MASTER</a></td></tr>
<tr class="memdesc:abb8403f54a536520302a191b105c1aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">this input driver class needs a pointer to the SPI master object for reset purposes <br/></td></tr>
<tr class="separator:abb8403f54a536520302a191b105c1aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081e0558ca0461e26aa722a86708ab85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a081e0558ca0461e26aa722a86708ab85"></a>
<a class="el" href="classtask__lines.html">task_lines</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a081e0558ca0461e26aa722a86708ab85">MAKE_PATH</a></td></tr>
<tr class="memdesc:a081e0558ca0461e26aa722a86708ab85"><td class="mdescLeft">&#160;</td><td class="mdescRight">this input driver class needs a pointer to <a class="el" href="classtask__lines.html">task_lines</a> to initiate the coordinate conversion process <br/></td></tr>
<tr class="separator:a081e0558ca0461e26aa722a86708ab85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b091755eb7191a9335849186fe0182d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b091755eb7191a9335849186fe0182d"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a3b091755eb7191a9335849186fe0182d">ptr_2_print_mode</a></td></tr>
<tr class="memdesc:a3b091755eb7191a9335849186fe0182d"><td class="mdescLeft">&#160;</td><td class="mdescRight">print_mode is used in <a class="el" href="classtask__print.html">task_print</a> to tell what to print and <a class="el" href="classtask__read.html">task_read</a> to tell when printing is done <br/></td></tr>
<tr class="separator:a3b091755eb7191a9335849186fe0182d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e34e9247996ada93680d9d8a487d5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7e34e9247996ada93680d9d8a487d5f"></a>
<a class="el" href="classservo.html">servo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#aa7e34e9247996ada93680d9d8a487d5f">You_Just_Got_Servoed</a></td></tr>
<tr class="memdesc:aa7e34e9247996ada93680d9d8a487d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">servo object allowing pen to be actuated <br/></td></tr>
<tr class="separator:aa7e34e9247996ada93680d9d8a487d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b170938e3179e2d810ea7f95ae37a75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b170938e3179e2d810ea7f95ae37a75"></a>
<a class="el" href="classGo__Home.html">Go_Home</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a0b170938e3179e2d810ea7f95ae37a75">Plotter_Home</a></td></tr>
<tr class="memdesc:a0b170938e3179e2d810ea7f95ae37a75"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classGo__Home.html">Go_Home</a> object allows <a class="el" href="classtask__read.html">task_read</a> to initiate homing procedure. <br/></td></tr>
<tr class="separator:a0b170938e3179e2d810ea7f95ae37a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9493b50784b9d5077ed9a8994fb1e58d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9493b50784b9d5077ed9a8994fb1e58d"></a>
<a class="el" href="classpoint.html">point</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a9493b50784b9d5077ed9a8994fb1e58d">Make_Point</a></td></tr>
<tr class="memdesc:a9493b50784b9d5077ed9a8994fb1e58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">point object so make point operation can be initialized <br/></td></tr>
<tr class="separator:a9493b50784b9d5077ed9a8994fb1e58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36241d1d2487fb0c42e9c7d5d4ad42b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af36241d1d2487fb0c42e9c7d5d4ad42b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#af36241d1d2487fb0c42e9c7d5d4ad42b">coord_request</a></td></tr>
<tr class="memdesc:af36241d1d2487fb0c42e9c7d5d4ad42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets coordinate inpute mode to take 4 coords <br/></td></tr>
<tr class="separator:af36241d1d2487fb0c42e9c7d5d4ad42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c93078e8889902a8b94a7f9ff4f9aee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c93078e8889902a8b94a7f9ff4f9aee"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a2c93078e8889902a8b94a7f9ff4f9aee">point_request</a></td></tr>
<tr class="memdesc:a2c93078e8889902a8b94a7f9ff4f9aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets coordinate inpute mode to take 2 coords <br/></td></tr>
<tr class="separator:a2c93078e8889902a8b94a7f9ff4f9aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3dadb9f0fe73bb72860e48ea9e9506"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f3dadb9f0fe73bb72860e48ea9e9506"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a7f3dadb9f0fe73bb72860e48ea9e9506">input_char</a></td></tr>
<tr class="memdesc:a7f3dadb9f0fe73bb72860e48ea9e9506"><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer to store inputted char <br/></td></tr>
<tr class="separator:a7f3dadb9f0fe73bb72860e48ea9e9506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9105eff17956d2c454d8461667c5c4ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9105eff17956d2c454d8461667c5c4ce"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a9105eff17956d2c454d8461667c5c4ce">read_state</a></td></tr>
<tr class="memdesc:a9105eff17956d2c454d8461667c5c4ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">state variable for <a class="el" href="classtask__read.html">task_read</a> <br/></td></tr>
<tr class="separator:a9105eff17956d2c454d8461667c5c4ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637368ee975b788a55fe0dd0b8c38829"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a637368ee975b788a55fe0dd0b8c38829"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a637368ee975b788a55fe0dd0b8c38829">read_mode</a></td></tr>
<tr class="memdesc:a637368ee975b788a55fe0dd0b8c38829"><td class="mdescLeft">&#160;</td><td class="mdescRight">read_mode tells input states where to save to <br/></td></tr>
<tr class="separator:a637368ee975b788a55fe0dd0b8c38829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41dff54c822ebbbf499d320e6e069790"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41dff54c822ebbbf499d320e6e069790"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a41dff54c822ebbbf499d320e6e069790">coordinate</a></td></tr>
<tr class="memdesc:a41dff54c822ebbbf499d320e6e069790"><td class="mdescLeft">&#160;</td><td class="mdescRight">temporary storage of a coordinate during conversion <br/></td></tr>
<tr class="separator:a41dff54c822ebbbf499d320e6e069790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5868630ef3d9aaad8a3293e12f4a16e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5868630ef3d9aaad8a3293e12f4a16e7"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a5868630ef3d9aaad8a3293e12f4a16e7">K</a></td></tr>
<tr class="memdesc:a5868630ef3d9aaad8a3293e12f4a16e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">temporary storage of a gain value during conversion. (this gets typecasted to 16 bit at save) <br/></td></tr>
<tr class="separator:a5868630ef3d9aaad8a3293e12f4a16e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39948fc8e8abcee6168bd97b7ee9b8ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39948fc8e8abcee6168bd97b7ee9b8ff"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a39948fc8e8abcee6168bd97b7ee9b8ff">index</a></td></tr>
<tr class="memdesc:a39948fc8e8abcee6168bd97b7ee9b8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">counts number of inputted digits and helps with decimal point logic for coordinates. <br/></td></tr>
<tr class="separator:a39948fc8e8abcee6168bd97b7ee9b8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6cdc46c93f6414df1db82bb3b37d779"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6cdc46c93f6414df1db82bb3b37d779"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#ad6cdc46c93f6414df1db82bb3b37d779">dec_flag</a></td></tr>
<tr class="memdesc:ad6cdc46c93f6414df1db82bb3b37d779"><td class="mdescLeft">&#160;</td><td class="mdescRight">helps in coordinate entry <br/></td></tr>
<tr class="separator:ad6cdc46c93f6414df1db82bb3b37d779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e731afdd8d8ce60c4a4a22a18bbf839"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e731afdd8d8ce60c4a4a22a18bbf839"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a4e731afdd8d8ce60c4a4a22a18bbf839">X0</a></td></tr>
<tr class="memdesc:a4e731afdd8d8ce60c4a4a22a18bbf839"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial x coordinate <br/></td></tr>
<tr class="separator:a4e731afdd8d8ce60c4a4a22a18bbf839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28efd7b77196b1cf7d581114c77bd607"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28efd7b77196b1cf7d581114c77bd607"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a28efd7b77196b1cf7d581114c77bd607">Y0</a></td></tr>
<tr class="memdesc:a28efd7b77196b1cf7d581114c77bd607"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial y coordinate <br/></td></tr>
<tr class="separator:a28efd7b77196b1cf7d581114c77bd607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ee53e6563d1c78e648a2cb83128e84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45ee53e6563d1c78e648a2cb83128e84"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#a45ee53e6563d1c78e648a2cb83128e84">X_f</a></td></tr>
<tr class="memdesc:a45ee53e6563d1c78e648a2cb83128e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">final x coordinate or point x coordinate <br/></td></tr>
<tr class="separator:a45ee53e6563d1c78e648a2cb83128e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1659ce594c1d8ffec4faed638919fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa1659ce594c1d8ffec4faed638919fb"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#afa1659ce594c1d8ffec4faed638919fb">Y_f</a></td></tr>
<tr class="memdesc:afa1659ce594c1d8ffec4faed638919fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">final y coordinate or point y coordinate <br/></td></tr>
<tr class="separator:afa1659ce594c1d8ffec4faed638919fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0192fd60c1c29fde6aad37ea5fc8bcd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0192fd60c1c29fde6aad37ea5fc8bcd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__read.html#ae0192fd60c1c29fde6aad37ea5fc8bcd">coord_num</a></td></tr>
<tr class="memdesc:ae0192fd60c1c29fde6aad37ea5fc8bcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">keeps track of where to save what coordianate as they're entered <br/></td></tr>
<tr class="separator:ae0192fd60c1c29fde6aad37ea5fc8bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classtask__read.html">task_read</a> is the input section of the user interface for the polar plotter. It takes in the following commands: [h,H,?] print a help screen [o,O] home the machine [g,G] enable motor control [s,S] disable motor control (stop motors) [SPACE] Emergency stop [r,R] raise pen [l,L] lower pen [p,P] initiate K_p GAIN ENTRY MODE [i,I] initiate K_i GAIN ENTRY MODE [d,D] initiate K_d GAIN ENTRY MODE [c,C] initiate COORDINATE INPUT MODE to make a line [m,M] initiate COORDINATE INPUT MODE to make a point [q,Q] print current values of gains, encoders and set points [z,Z] reset PID controller (on both boards) [x,X] Make signiture COORDINATE INPUT MODES: Allows a user to enter values from 0 to 99.9 and accept one decimal place if desired GAIN ENTRY MODE: Allows a user to enter a number up to 5 digits. User is then promted on which motor to update. no enter key is required on this last step. </p>

<p>Definition at line <a class="el" href="task__read_8h_source.html#l00032">32</a> of file <a class="el" href="task__read_8h_source.html">task_read.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6e7da4895a28c1cbb2572364a15fdaff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_read::task_read </td>
          <td>(</td>
          <td class="paramtype">base_text_serial *&#160;</td>
          <td class="paramname"><em>p_serial_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask__PID.html">task_PID</a> *&#160;</td>
          <td class="paramname"><em>motor_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask__PID.html">task_PID</a> *&#160;</td>
          <td class="paramname"><em>motor_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_print_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaster.html">Master</a> *&#160;</td>
          <td class="paramname"><em>Master_Object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtask__lines.html">task_lines</a> *&#160;</td>
          <td class="paramname"><em>LINES</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classservo.html">servo</a> *&#160;</td>
          <td class="paramname"><em>Tom_Servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGo__Home.html">Go_Home</a> *&#160;</td>
          <td class="paramname"><em>Home_Slice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpoint.html">point</a> *&#160;</td>
          <td class="paramname"><em>POINTY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constructor creates a <a class="el" href="classtask__read.html">task_read</a> object which handles user inputs as described above. It takes in pointers to necessary objects and variables, saves them locally and initializes necessary variables. Of note, read_state and print_mode are initialized to 3 and 6 respectively so that the help menu will print out as soon as all constructors run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_serial_port,:</td><td>A pointer to the serial port for printing purposes </td></tr>
    <tr><td class="paramname">motor_1,:</td><td>A pointer to a PID object </td></tr>
    <tr><td class="paramname">motor_2,:</td><td>A pointer to a second PID object </td></tr>
    <tr><td class="paramname">p_print_mode,:</td><td>A pointer to print_mode, which is a logic/state variable for print_state [TEMPORARY] </td></tr>
    <tr><td class="paramname">Master_Object,:</td><td>A pointer to an SPI master object so resets can be performed </td></tr>
    <tr><td class="paramname">LINES</td><td>A <a class="el" href="classtask__lines.html">task_lines</a> pointer so line endpoints can be set </td></tr>
    <tr><td class="paramname">Tom_Servo</td><td>A servo object so pen can be raised/lowered </td></tr>
    <tr><td class="paramname">Home_Slice</td><td>A <a class="el" href="classGo__Home.html">Go_Home</a> object so homing can be initiated </td></tr>
    <tr><td class="paramname">POINTY</td><td>A point object so make a point command can be initiated</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="classtask__read.html">task_read</a> is the input section of the user interface for the polar plotter. It takes in the following commands: [h,H,?] print a help screen [o,O] home the machine [g,G] enable motor control [s,S] disable motor control (stop motors) [SPACE] Emergency stop [r,R] raise pen [l,L] lower pen [p,P] initiate K_p GAIN ENTRY MODE [i,I] initiate K_i GAIN ENTRY MODE [d,D] initiate K_d GAIN ENTRY MODE [c,C] initiate COORDINATE INPUT MODE to make a line [m,M] initiate COORDINATE INPUT MODE to make a point [q,Q] print current values of gains, encoders and set points [z,Z] reset PID controller (on both boards) [x,X] Make signiture COORDINATE INPUT MODES: Allows a user to enter values from 0 to 99.9 and accept one decimal place if desired GAIN ENTRY MODE: Allows a user to enter a number up to 5 digits. User is then promted on which motor to update. no enter key is required on this last step.The constructor creates a <a class="el" href="classtask__read.html">task_read</a> object which handles user inputs as described above. It takes in pointers to necessary objects and variables, saves them locally and initializes necessary variables. Of note, read_state and print_mode are initialized to 3 and 6 respectively so that the help menu will print out as soon as all constructors run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_serial_port,:</td><td>A pointer to the serial port for printing purposes </td></tr>
    <tr><td class="paramname">motor_1,:</td><td>A pointer to a PID object </td></tr>
    <tr><td class="paramname">motor_2,:</td><td>A pointer to a second PID object </td></tr>
    <tr><td class="paramname">p_print_mode,:</td><td>A pointer to print_mode, which is a logic/state variable for print_state [TEMPORARY] </td></tr>
    <tr><td class="paramname">Master_Object,:</td><td>A pointer to an SPI master object so resets can be performed </td></tr>
    <tr><td class="paramname">LINES</td><td>A <a class="el" href="classtask__lines.html">task_lines</a> pointer so line endpoints can be set </td></tr>
    <tr><td class="paramname">Tom_Servo</td><td>A servo object so pen can be raised/lowered </td></tr>
    <tr><td class="paramname">Home_Slice</td><td>A <a class="el" href="classGo__Home.html">Go_Home</a> object so homing can be initiated </td></tr>
    <tr><td class="paramname">POINTY</td><td>A point object so make a point command can be initiated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="task__read_8cpp_source.html#l00053">53</a> of file <a class="el" href="task__read_8cpp_source.html">task_read.cpp</a>.</p>

<p>References <a class="el" href="task__read_8h_source.html#l00044">MAKE_PATH</a>, <a class="el" href="task__read_8h_source.html#l00052">Make_Point</a>, <a class="el" href="task__read_8h_source.html#l00042">MASTER</a>, <a class="el" href="task__read_8h_source.html#l00038">PID_1</a>, <a class="el" href="task__read_8h_source.html#l00040">PID_2</a>, <a class="el" href="task__read_8h_source.html#l00050">Plotter_Home</a>, <a class="el" href="task__read_8h_source.html#l00046">ptr_2_print_mode</a>, <a class="el" href="task__read_8h_source.html#l00036">ptr_2_serial</a>, <a class="el" href="task__read_8h_source.html#l00064">read_mode</a>, <a class="el" href="task__read_8h_source.html#l00062">read_state</a>, and <a class="el" href="task__read_8h_source.html#l00048">You_Just_Got_Servoed</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af2face98d4feb25a296ab079706d41fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_read::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the run method handles all user inputs. In easy cases, actions are taken here. in longer cases, states are used and flags indicate to another task, <a class="el" href="classtask__print.html">task_print</a>, that a message should be printed to screen.</p>
<p>the run method handles all user inputs. In easy cases, actions are taken here. in longer cases, states are used and flags indicate to another task, <a class="el" href="classtask__print.html">task_print</a>, that a message should be printed to screen. States are as follows: 0) Hub state: get char if input, check for valid command, initiate action 1) Coordinate entry mode 2) Gain value entry mode 3) Help Menu (wait for it to print) 4) Reset 5) Wait for coordinate value prompt 6) Wait for gain value prompt 7) Wait for prompt asking which motor to apply gain to 8) Apply entered to gain to correct memory location </p>
<p>State 0 is a hub state</p>
<p>State 1 is a coordinate entry mode. It expects a up to two digit integer with a tenths place decimal [ie 23.1 or 3.2]. it is always stored as number of tenths [ie 23.4 &ndash;&gt; 234 here]</p>
<p>State 2 is an entry mode for gains. It expects an integer value up to 5 digits. Values are saturated to 16 bit maximum if entry is too large .</p>
<p>State 3 prints the help menu. Since that takes a bit the task waits until print out is done</p>
<p>State 4 is a user defined reset. Necessary motor control values are cleared on both microcontrollers</p>
<p>State 5 allows <a class="el" href="classtask__print.html">task_print</a> enough time to get a prompt up before coordinate entry task is entered</p>
<p>State 6 allows <a class="el" href="classtask__print.html">task_print</a> enough time to get a prompt up before gain entry task is entered</p>
<p>State 7 allows <a class="el" href="classtask__print.html">task_print</a> enough time to ask which motor needs its gains adjusted before data is saved</p>
<p>State 8 saves gain information to the proper K location</p>
<p>State 9 initiates a command to make a dot</p>
<p>State 10 initiates a command to set the inital and final x&amp;y coordinates for drawing a line</p>
<p>State 11 handles prompt printing wait times for coord entry</p>
<p>State 12 initiates a command to draw our custom signature </p>

<p>Definition at line <a class="el" href="task__read_8cpp_source.html#l00089">89</a> of file <a class="el" href="task__read_8cpp_source.html">task_read.cpp</a>.</p>

<p>References <a class="el" href="task__read_8h_source.html#l00082">coord_num</a>, <a class="el" href="task__read_8h_source.html#l00056">coord_request</a>, <a class="el" href="task__read_8h_source.html#l00066">coordinate</a>, <a class="el" href="task__read_8h_source.html#l00072">dec_flag</a>, <a class="el" href="task__lines_8h_source.html#l00073">task_lines::draw_signature()</a>, <a class="el" href="servo_8h_source.html#l00035">servo::Fine_Line()</a>, <a class="el" href="task__lines_8h_source.html#l00067">task_lines::go()</a>, <a class="el" href="point_8cpp_source.html#l00154">point::Go_Make_A_Dot()</a>, <a class="el" href="task__read_8h_source.html#l00070">index</a>, <a class="el" href="task__read_8h_source.html#l00060">input_char</a>, <a class="el" href="task__read_8h_source.html#l00068">K</a>, <a class="el" href="task__read_8h_source.html#l00044">MAKE_PATH</a>, <a class="el" href="task__read_8h_source.html#l00052">Make_Point</a>, <a class="el" href="task__read_8h_source.html#l00042">MASTER</a>, <a class="el" href="servo_8h_source.html#l00032">servo::Pen_Up()</a>, <a class="el" href="task__read_8h_source.html#l00038">PID_1</a>, <a class="el" href="task__read_8h_source.html#l00040">PID_2</a>, <a class="el" href="task__read_8h_source.html#l00050">Plotter_Home</a>, <a class="el" href="task__read_8h_source.html#l00058">point_request</a>, <a class="el" href="task__read_8h_source.html#l00046">ptr_2_print_mode</a>, <a class="el" href="task__read_8h_source.html#l00036">ptr_2_serial</a>, <a class="el" href="task__read_8h_source.html#l00064">read_mode</a>, <a class="el" href="task__read_8h_source.html#l00062">read_state</a>, <a class="el" href="task__PID_8h_source.html#l00122">task_PID::Request_Home()</a>, <a class="el" href="task__lines_8h_source.html#l00070">task_lines::set_coords()</a>, <a class="el" href="Go__Home_8cpp_source.html#l00147">Go_Home::SET_Home_Request()</a>, <a class="el" href="task__PID_8cpp_source.html#l00185">task_PID::stop()</a>, <a class="el" href="task__read_8h_source.html#l00074">X0</a>, <a class="el" href="task__read_8h_source.html#l00078">X_f</a>, <a class="el" href="task__read_8h_source.html#l00076">Y0</a>, <a class="el" href="task__read_8h_source.html#l00080">Y_f</a>, and <a class="el" href="task__read_8h_source.html#l00048">You_Just_Got_Servoed</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="task__read_8h_source.html">task_read.h</a></li>
<li><a class="el" href="task__read_8cpp_source.html">task_read.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classtask__read.html">task_read</a></li>
    <li class="footer">Generated on Fri Sep 20 2013 16:30:28 for Polar Plotter Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
