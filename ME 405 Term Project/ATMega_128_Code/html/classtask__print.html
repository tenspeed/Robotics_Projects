<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Polar Plotter Project: task_print Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Polar Plotter Project
   &#160;<span id="projectnumber">5.0</span>
   </div>
   <div id="projectbrief">A 2D Polar Plotter for Drawing Straight Lines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classtask__print-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">task_print Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This define prevents this .h file from being included more than once in a .cpp file.  
 <a href="classtask__print.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="task__print_8h_source.html">task_print.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a40c98a0ed4664ffe410da702ea0d3311"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a40c98a0ed4664ffe410da702ea0d3311">task_print</a> (base_text_serial *p_serial_port, uint8_t *p_print_mode)</td></tr>
<tr class="separator:a40c98a0ed4664ffe410da702ea0d3311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568efc42203ca707a55ec464c6f420b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a568efc42203ca707a55ec464c6f420b9">run</a> (void)</td></tr>
<tr class="separator:a568efc42203ca707a55ec464c6f420b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a275823ba4262e853d1d0e23ddc47d072"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a275823ba4262e853d1d0e23ddc47d072"></a>
base_text_serial *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a275823ba4262e853d1d0e23ddc47d072">ptr_2_serial</a></td></tr>
<tr class="memdesc:a275823ba4262e853d1d0e23ddc47d072"><td class="mdescLeft">&#160;</td><td class="mdescRight">The encoder driver class needs a pointer to the serial port used to output to the terminal. <br/></td></tr>
<tr class="separator:a275823ba4262e853d1d0e23ddc47d072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f7b1c68dec0129316c3fe2571aa97c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91f7b1c68dec0129316c3fe2571aa97c"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a91f7b1c68dec0129316c3fe2571aa97c">ptr_2_Which_Msg</a></td></tr>
<tr class="memdesc:a91f7b1c68dec0129316c3fe2571aa97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to variable indicating what to print <br/></td></tr>
<tr class="separator:a91f7b1c68dec0129316c3fe2571aa97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b9dda7012470c179153de23e9cc924"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87b9dda7012470c179153de23e9cc924"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a87b9dda7012470c179153de23e9cc924">print_state</a></td></tr>
<tr class="memdesc:a87b9dda7012470c179153de23e9cc924"><td class="mdescLeft">&#160;</td><td class="mdescRight">state variable for <a class="el" href="classtask__print.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_print</a> <br/></td></tr>
<tr class="separator:a87b9dda7012470c179153de23e9cc924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94acdd3205ef9ea2ff5f2030bfd8e725"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94acdd3205ef9ea2ff5f2030bfd8e725"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a94acdd3205ef9ea2ff5f2030bfd8e725">buffer</a> [100]</td></tr>
<tr class="memdesc:a94acdd3205ef9ea2ff5f2030bfd8e725"><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer for currently printing message <br/></td></tr>
<tr class="separator:a94acdd3205ef9ea2ff5f2030bfd8e725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c6f9278fe864a462ff8e6bea1f176c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86c6f9278fe864a462ff8e6bea1f176c"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask__print.html#a86c6f9278fe864a462ff8e6bea1f176c">index</a></td></tr>
<tr class="memdesc:a86c6f9278fe864a462ff8e6bea1f176c"><td class="mdescLeft">&#160;</td><td class="mdescRight">keeps track of location in a string <br/></td></tr>
<tr class="separator:a86c6f9278fe864a462ff8e6bea1f176c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This define prevents this .h file from being included more than once in a .cpp file. </p>
<p><a class="el" href="classtask__print.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_print</a> is a state machine which handles the screen printout portion of the user interface for a ME405 term project. State 0 checks to see if any prompts, errors or menus need to be printed. If so, the strings are copied to a buffer. State 1 prints the buffer one character at a time so as to be cooperative. When the string end is reached, an endline is printed and State is returned to 0. The exception to this rule is the case of the help menu. Because the menu is so long, it is divided into two strings. State two detects the end of the first half of the menu, copies the second half to the buffer and then continues to print one character at a time. Normal string end procedures are then followed.Following are the headers of the constructor and methods contained in task_print.cpp. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a40c98a0ed4664ffe410da702ea0d3311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_print::task_print </td>
          <td>(</td>
          <td class="paramtype">base_text_serial *&#160;</td>
          <td class="paramname"><em>p_serial_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_print_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constructor creates a <a class="el" href="classtask__print.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_print</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_serial_port,:</td><td>A serial port object allows printing to the screen </td></tr>
    <tr><td class="paramname">p_print_mode,:</td><td>A variable which tells <a class="el" href="classtask__print.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_print</a> which message to print and also tells <a class="el" href="classtask__read.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_read</a> when the printing has been completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a568efc42203ca707a55ec464c6f420b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_print::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>run is <a class="el" href="classtask__print.html" title="This define prevents this .h file from being included more than once in a .cpp file. ">task_print</a>'s only method. It performs all screen printing of menus, prompts and errors. Printing is done one character at a time using a two state format. State 0 checks to see if any prompts, errors or menus need to be printed. If so, the strings are copied to a buffer. State 1 prints the buffer one character at a time so as to be cooperative. When the string end is reached, an endline is printed and State is returned to 0. The exception to this rule is the case of the help menu. Because the menu is so long, it is divided into two strings. State two detects the end of the first half of the menu, copies the second half to the buffer and then continues to print one character at a time. Normal string end procedures are then followed.</p>
<p>the run task handles all printing to screen. If another task requests a print by changing print_mode in main, run moves the appropriate message from program memory to a buffer in data memory and then prints the message one character per task call. </p>
<p>State 0 is a hub state. It checks to see if interface wants anything printed to screen. If so, the appropriate message is moved to a local buffer.</p>
<p>Message 3 is a K_i entry prompt</p>
<p>Message 3 is a K_p entry prompt</p>
<p>Message 3 is a K_d entry prompt</p>
<p>Message 6 is the first half of the help menu</p>
<p>Message 7 is an invalid input error</p>
<p>Message 8 is a prompt asking which motor to apply an entered gain to</p>
<p>case 9 is left out as a reminder that msg9 is the second part of help</p>
<p>case 10 -13 coordinate promts Message 10</p>
<p>Message 11</p>
<p>Message 12</p>
<p>Message 13</p>
<p>State 1 is the actual print state. it keeps track of its progress via index and prints until a nul character is encountered. The exception to this rule is in printing the help menu. Because of it's length, the menu is divided into halves. When the first string ends, this state automatically transitions to the second half of the menu. At the end of any message or menu an endline is printed before returning to state 0.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="task__print_8h_source.html">task_print.h</a></li>
<li>task_print.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 4 2013 20:59:58 for Polar Plotter Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
